# Milvus å‘é‡æ•°æ®åº“å®Œå…¨æŒ‡å—

## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯ Milvusï¼Ÿ](#ä»€ä¹ˆæ˜¯-milvus)
2. [ä¸ºä»€ä¹ˆéœ€è¦å‘é‡æ•°æ®åº“ï¼Ÿ](#ä¸ºä»€ä¹ˆéœ€è¦å‘é‡æ•°æ®åº“)
3. [Milvus çš„æ ¸å¿ƒæ¦‚å¿µ](#milvus-çš„æ ¸å¿ƒæ¦‚å¿µ)
4. [Milvus çš„å·¥ä½œåŸç†](#milvus-çš„å·¥ä½œåŸç†)
5. [Milvus vs ä¼ ç»Ÿæ•°æ®åº“](#milvus-vs-ä¼ ç»Ÿæ•°æ®åº“)
6. [å®æˆ˜ï¼šä»é›¶æ­å»º](#å®æˆ˜ä»é›¶æ­å»º)
7. [è¿›é˜¶ï¼šç´¢å¼•ç®—æ³•](#è¿›é˜¶ç´¢å¼•ç®—æ³•)
8. [æ€§èƒ½ä¼˜åŒ–æŠ€å·§](#æ€§èƒ½ä¼˜åŒ–æŠ€å·§)
9. [å®é™…åº”ç”¨æ¡ˆä¾‹](#å®é™…åº”ç”¨æ¡ˆä¾‹)

---

## ğŸ¯ ä»€ä¹ˆæ˜¯ Milvusï¼Ÿ

### **ä¸€å¥è¯è§£é‡Š**

> Milvus æ˜¯ä¸€ä¸ª**å¼€æºçš„å‘é‡æ•°æ®åº“**ï¼Œä¸“é—¨ç”¨äºå­˜å‚¨ã€ç´¢å¼•å’Œæœç´¢é«˜ç»´å‘é‡æ•°æ®ã€‚

### **å½¢è±¡æ¯”å–»**

```
ä¼ ç»Ÿæ•°æ®åº“ï¼ˆMySQLï¼‰= å›¾ä¹¦é¦†çš„ä¹¦æ¶
â”œâ”€ æŒ‰ä¹¦åæ’åº
â”œâ”€ æŒ‰ä½œè€…åˆ†ç±»
â””â”€ ç²¾ç¡®æŸ¥æ‰¾ï¼š"ç»™æˆ‘ã€Šçº¢æ¥¼æ¢¦ã€‹"

å‘é‡æ•°æ®åº“ï¼ˆMilvusï¼‰= æ™ºèƒ½æ¨èç³»ç»Ÿ
â”œâ”€ ç†è§£å†…å®¹çš„"ç›¸ä¼¼æ€§"
â”œâ”€ ä¸éœ€è¦ç²¾ç¡®åŒ¹é…
â””â”€ æ¨¡ç³ŠæŸ¥æ‰¾ï¼š"æ‰¾å’Œã€Šçº¢æ¥¼æ¢¦ã€‹é£æ ¼ç›¸ä¼¼çš„ä¹¦"
```

---

## ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦å‘é‡æ•°æ®åº“ï¼Ÿ

### **é—®é¢˜1ï¼šä¼ ç»Ÿæ•°æ®åº“æ— æ³•å¤„ç†"ç›¸ä¼¼æ€§"æŸ¥è¯¢**

#### **ä¼ ç»Ÿæ•°æ®åº“çš„é™åˆ¶**

```sql
-- MySQL æŸ¥è¯¢
SELECT * FROM products WHERE name = 'iPhone 16 Pro';  âœ… å¯ä»¥åš

SELECT * FROM products WHERE name LIKE '%æ‰‹æœº%';      âœ… å¯ä»¥åš

-- ä½†æ˜¯è¿™ä¸ªæŸ¥ä¸äº†ï¼š
SELECT * FROM products 
WHERE "è¿™ä¸ªäº§å“å’ŒiPhone 16 Proç›¸ä¼¼";  âŒ åšä¸åˆ°ï¼
```

#### **Milvus å¯ä»¥åšåˆ°**

```python
# Milvus æŸ¥è¯¢
# 1. æŠŠ "iPhone 16 Pro" è½¬æˆå‘é‡
query_vector = embedding_model.encode("iPhone 16 Pro")
# [0.2, 0.8, 0.3, -0.5, ...]

# 2. æœç´¢ç›¸ä¼¼å‘é‡
results = milvus.search(
    collection_name="products",
    query_vectors=[query_vector],
    top_k=10  # è¿”å›æœ€ç›¸ä¼¼çš„10ä¸ª
)

# ç»“æœï¼š
# - iPhone 15 Pro      (ç›¸ä¼¼åº¦ï¼š0.95)
# - åä¸º Mate 60 Pro   (ç›¸ä¼¼åº¦ï¼š0.89)
# - ä¸‰æ˜Ÿ S24 Ultra     (ç›¸ä¼¼åº¦ï¼š0.85)
# - å°ç±³ 14 Pro        (ç›¸ä¼¼åº¦ï¼š0.82)
# ...
```

---

### **é—®é¢˜2ï¼šä¼ ç»Ÿæ•°æ®åº“å¤„ç†é«˜ç»´æ•°æ®å¤ªæ…¢**

#### **ä»€ä¹ˆæ˜¯é«˜ç»´å‘é‡ï¼Ÿ**

```python
# ä½ç»´å‘é‡ï¼ˆ2ç»´ï¼‰ï¼šå¯ä»¥ç”»åœ¨å¹³é¢ä¸Š
point_2d = [3, 5]  # (x, y)

# é«˜ç»´å‘é‡ï¼ˆ512ç»´ï¼‰ï¼šæ— æ³•å¯è§†åŒ–
embedding_512d = [
    0.2, 0.8, 0.3, -0.5, 0.9, 0.1, ...  # 512ä¸ªæ•°å­—
]

# æ›´é«˜ç»´ï¼ˆ1536ç»´ï¼‰ï¼šOpenAI çš„ text-embedding-3-large
embedding_1536d = [0.02, -0.15, 0.83, ...]  # 1536ä¸ªæ•°å­—
```

#### **æ€§èƒ½å¯¹æ¯”**

```
ä»»åŠ¡ï¼šåœ¨100ä¸‡ä¸ªå‘é‡ä¸­æ‰¾æœ€ç›¸ä¼¼çš„10ä¸ª

MySQLï¼ˆæš´åŠ›è®¡ç®—ï¼‰ï¼š
â”œâ”€ é€ä¸ªè®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦
â”œâ”€ æ—¶é—´ï¼šçº¦ 30 ç§’
â””â”€ âŒ å¤ªæ…¢äº†ï¼

Milvusï¼ˆç´¢å¼•ä¼˜åŒ–ï¼‰ï¼š
â”œâ”€ ä½¿ç”¨ HNSW ç´¢å¼•
â”œâ”€ æ—¶é—´ï¼šçº¦ 10 æ¯«ç§’
â””â”€ âœ… å¿«3000å€ï¼
```

---

## ğŸ—ï¸ Milvus çš„æ ¸å¿ƒæ¦‚å¿µ

### **1. Collectionï¼ˆé›†åˆï¼‰**

**ç±»æ¯”**ï¼šMySQL ä¸­çš„"è¡¨"

```python
# åˆ›å»ºä¸€ä¸ªé›†åˆï¼ˆç±»ä¼¼åˆ›å»ºè¡¨ï¼‰
from pymilvus import Collection, FieldSchema, CollectionSchema, DataType

# å®šä¹‰å­—æ®µ
fields = [
    FieldSchema(name="id", dtype=DataType.INT64, is_primary=True, auto_id=True),
    FieldSchema(name="embedding", dtype=DataType.FLOAT_VECTOR, dim=512),
    FieldSchema(name="title", dtype=DataType.VARCHAR, max_length=200),
    FieldSchema(name="category", dtype=DataType.VARCHAR, max_length=50)
]

# åˆ›å»ºé›†åˆ
schema = CollectionSchema(fields, description="å•†å“å‘é‡é›†åˆ")
collection = Collection(name="products", schema=schema)
```

**å¯¹æ¯”**ï¼š

| MySQL           | Milvus                |
| --------------- | --------------------- |
| æ•°æ®åº“ Database | æ•°æ®åº“ Database       |
| è¡¨ Table        | é›†åˆ Collection       |
| è¡Œ Row          | å®ä½“ Entity           |
| åˆ— Column       | å­—æ®µ Field            |
| ç´¢å¼• Index      | å‘é‡ç´¢å¼• Vector Index |

---

### **2. Fieldï¼ˆå­—æ®µï¼‰**

**Milvus æ”¯æŒçš„æ•°æ®ç±»å‹**ï¼š

```python
# 1. ä¸»é”®å­—æ®µï¼ˆå¿…é¡»æœ‰ï¼‰
FieldSchema(name="id", dtype=DataType.INT64, is_primary=True)

# 2. å‘é‡å­—æ®µï¼ˆæ ¸å¿ƒï¼ï¼‰
FieldSchema(name="embedding", dtype=DataType.FLOAT_VECTOR, dim=512)
# dim æ˜¯å‘é‡çš„ç»´åº¦

# 3. æ ‡é‡å­—æ®µï¼ˆç”¨äºè¿‡æ»¤ï¼‰
FieldSchema(name="title", dtype=DataType.VARCHAR, max_length=200)
FieldSchema(name="price", dtype=DataType.FLOAT)
FieldSchema(name="stock", dtype=DataType.INT64)
FieldSchema(name="is_available", dtype=DataType.BOOL)
```

---

### **3. Entityï¼ˆå®ä½“ï¼‰**

**ç±»æ¯”**ï¼šMySQL ä¸­çš„"è¡Œ"

```python
# æ’å…¥æ•°æ®
entities = [
    # id ä¼šè‡ªåŠ¨ç”Ÿæˆ
    [0.2, 0.8, 0.3, ...],  # embeddingï¼ˆ512ç»´å‘é‡ï¼‰
    "iPhone 16 Pro 256GB",  # title
    "æ‰‹æœº",                 # category
]

collection.insert(entities)
```

---

### **4. Indexï¼ˆç´¢å¼•ï¼‰**

**ä¸ºä»€ä¹ˆéœ€è¦ç´¢å¼•ï¼Ÿ**

```
æ²¡æœ‰ç´¢å¼•ï¼ˆæš´åŠ›æœç´¢ï¼‰ï¼š
â”œâ”€ æŠŠæŸ¥è¯¢å‘é‡å’Œæ¯ä¸ªå‘é‡éƒ½æ¯”è¾ƒä¸€é
â”œâ”€ 100ä¸‡ä¸ªå‘é‡ Ã— 512ç»´ Ã— è®¡ç®—ç›¸ä¼¼åº¦
â””â”€ âŒ å¤ªæ…¢ï¼

æœ‰ç´¢å¼•ï¼ˆæ™ºèƒ½æœç´¢ï¼‰ï¼š
â”œâ”€ æ„å»ºç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼ˆHNSWå›¾ã€IVFæ ‘ï¼‰
â”œâ”€ åªæ¯”è¾ƒä¸€å°éƒ¨åˆ†å‘é‡ï¼ˆæ¯”å¦‚1000ä¸ªï¼‰
â””â”€ âœ… å¿«1000å€ï¼
```

**åˆ›å»ºç´¢å¼•**ï¼š

```python
# åˆ›å»º HNSW ç´¢å¼•ï¼ˆæœ€å¸¸ç”¨ï¼‰
index_params = {
    "index_type": "HNSW",        # ç´¢å¼•ç±»å‹
    "metric_type": "L2",         # è·ç¦»åº¦é‡
    "params": {"M": 16, "efConstruction": 200}
}

collection.create_index(
    field_name="embedding",
    index_params=index_params
)
```

---

### **5. Partitionï¼ˆåˆ†åŒºï¼‰**

**ç±»æ¯”**ï¼šMySQL ä¸­çš„"è¡¨åˆ†åŒº"

**ä¸ºä»€ä¹ˆéœ€è¦åˆ†åŒºï¼Ÿ**

```
åœºæ™¯ï¼šç”µå•†å¹³å°æœ‰1000ä¸‡å•†å“
â”œâ”€ æ‰‹æœºï¼š100ä¸‡
â”œâ”€ ç”µè„‘ï¼š50ä¸‡
â”œâ”€ å®¶ç”µï¼š200ä¸‡
â””â”€ æœè£…ï¼š650ä¸‡

ç”¨æˆ·æœç´¢ï¼š"æ¨èæ‰‹æœº"
â”œâ”€ ä¸åˆ†åŒºï¼šæœç´¢1000ä¸‡æ¡æ•°æ®
â””â”€ åˆ†åŒºåï¼šåªæœç´¢"æ‰‹æœº"åˆ†åŒºçš„100ä¸‡æ¡  â† å¿«10å€ï¼
```

**åˆ›å»ºåˆ†åŒº**ï¼š

```python
# åˆ›å»ºåˆ†åŒº
collection.create_partition("æ‰‹æœº")
collection.create_partition("ç”µè„‘")
collection.create_partition("å®¶ç”µ")

# æ’å…¥æ•°æ®åˆ°æŒ‡å®šåˆ†åŒº
collection.insert(entities, partition_name="æ‰‹æœº")

# åªåœ¨æŸä¸ªåˆ†åŒºæœç´¢
results = collection.search(
    data=[query_vector],
    partition_names=["æ‰‹æœº"],  # åªæœç´¢æ‰‹æœºåˆ†åŒº
    anns_field="embedding",
    param={"metric_type": "L2", "params": {"ef": 64}},
    limit=10
)
```

---

## âš™ï¸ Milvus çš„å·¥ä½œåŸç†

### **å®Œæ•´æµç¨‹å›¾**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬1æ­¥ï¼šæ•°æ®å‡†å¤‡                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åŸå§‹æ•°æ®ï¼š"iPhone 16 Proæ˜¯ä¸€æ¬¾é«˜ç«¯æ™ºèƒ½æ‰‹æœº"
    â†“
æ–‡æœ¬ â†’ Embeddingæ¨¡å‹ â†’ å‘é‡
    â†“
[0.2, 0.8, 0.3, -0.5, 0.9, ...]  # 512ç»´å‘é‡

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬2æ­¥ï¼šæ’å…¥ Milvus                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

collection.insert([
    [1],                                    # id
    [[0.2, 0.8, 0.3, ...]],                # embedding
    ["iPhone 16 Proæ˜¯ä¸€æ¬¾é«˜ç«¯æ™ºèƒ½æ‰‹æœº"]      # title
])
    â†“
å­˜å‚¨åˆ° Milvus
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Milvus å†…éƒ¨å­˜å‚¨ç»“æ„                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å‘é‡æ•°æ®ï¼ˆé«˜æ•ˆçš„åˆ—å¼å­˜å‚¨ï¼‰        â”‚  â”‚
â”‚  â”‚  [0.2, 0.8, ...]                  â”‚  â”‚
â”‚  â”‚  [0.1, 0.9, ...]                  â”‚  â”‚
â”‚  â”‚  [0.3, 0.7, ...]                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æ ‡é‡æ•°æ®ï¼ˆå…ƒæ•°æ®ï¼‰                â”‚  â”‚
â”‚  â”‚  id: 1, title: "iPhone..."        â”‚  â”‚
â”‚  â”‚  id: 2, title: "åä¸º..."          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç´¢å¼•ç»“æ„ï¼ˆHNSWå›¾ï¼‰                â”‚  â”‚
â”‚  â”‚     1 â† â†’ 5 â† â†’ 9                 â”‚  â”‚
â”‚  â”‚     â†“     â†“     â†“                 â”‚  â”‚
â”‚  â”‚     2 â† â†’ 3 â† â†’ 7                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬3æ­¥ï¼šæ„å»ºç´¢å¼•                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

collection.create_index(...)
    â†“
Milvus åˆ†ææ‰€æœ‰å‘é‡ï¼Œæ„å»º HNSW å›¾
    â†“
å‘é‡ 1 å’Œå‘é‡ 2 å¾ˆç›¸ä¼¼ â†’ è¿ä¸€æ¡è¾¹
å‘é‡ 1 å’Œå‘é‡ 5 å¾ˆç›¸ä¼¼ â†’ è¿ä¸€æ¡è¾¹
...
    â†“
å½¢æˆä¸€ä¸ª"å¯¼èˆªå›¾"
    â†“
âœ… ç´¢å¼•æ„å»ºå®Œæˆï¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬4æ­¥ï¼šæœç´¢æŸ¥è¯¢                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”¨æˆ·æŸ¥è¯¢ï¼š"æ¨èé«˜ç«¯æ‰‹æœº"
    â†“
1. è½¬æˆå‘é‡
   [0.19, 0.81, 0.29, ...]
    â†“
2. Milvus ä½¿ç”¨ç´¢å¼•å¿«é€ŸæŸ¥æ‰¾
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  HNSW å›¾å¯¼èˆªç®—æ³•                â”‚
   â”‚  1. ä»å…¥å£èŠ‚ç‚¹å¼€å§‹              â”‚
   â”‚  2. è·³åˆ°æœ€è¿‘çš„é‚»å±…              â”‚
   â”‚  3. ç»§ç»­è·³ï¼Œè¶Šæ¥è¶Šæ¥è¿‘ç›®æ ‡      â”‚
   â”‚  4. æ‰¾åˆ°æœ€è¿‘çš„ K ä¸ªå‘é‡         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
3. è®¡ç®—ç²¾ç¡®ç›¸ä¼¼åº¦
   å¯¹å€™é€‰å‘é‡è®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦/æ¬§æ°è·ç¦»
    â†“
4. è¿”å›ç»“æœï¼ˆæŒ‰ç›¸ä¼¼åº¦æ’åºï¼‰
   - iPhone 16 Pro      (0.95)
   - åä¸º Mate 60 Pro   (0.89)
   - ä¸‰æ˜Ÿ S24 Ultra     (0.85)
   ...
    â†“
âœ… æœç´¢å®Œæˆï¼ï¼ˆ10æ¯«ç§’ï¼‰
```

---

### **æ ¸å¿ƒï¼šç›¸ä¼¼åº¦è®¡ç®—**

#### **1. æ¬§æ°è·ç¦»ï¼ˆL2ï¼‰**

```python
# ä¸¤ä¸ªå‘é‡
v1 = [1, 2, 3]
v2 = [4, 5, 6]

# æ¬§æ°è·ç¦»
import numpy as np
distance = np.linalg.norm(v1 - v2)
# = âˆš[(1-4)Â² + (2-5)Â² + (3-6)Â²]
# = âˆš[9 + 9 + 9]
# = âˆš27 â‰ˆ 5.196

# è·ç¦»è¶Šå°ï¼Œè¶Šç›¸ä¼¼
```

**å‡ ä½•æ„ä¹‰**ï¼š

```
    v2(4,5,6)
       /|
      / |
     /  | è·ç¦» = 5.196
    /   |
   /____|
v1(1,2,3)

ä¸¤ä¸ªç‚¹ä¹‹é—´çš„ç›´çº¿è·ç¦»
```

---

#### **2. ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆCosineï¼‰**

```python
# ä¸¤ä¸ªå‘é‡
v1 = [1, 2, 3]
v2 = [2, 4, 6]  # v2 = 2 * v1ï¼ˆæ–¹å‘ç›¸åŒï¼Œé•¿åº¦ä¸åŒï¼‰

# ä½™å¼¦ç›¸ä¼¼åº¦
cosine_sim = np.dot(v1, v2) / (np.linalg.norm(v1) * np.linalg.norm(v2))
# = (1*2 + 2*4 + 3*6) / (âˆš14 * âˆš56)
# = 28 / 28
# = 1.0  â† å®Œå…¨ç›¸åŒæ–¹å‘ï¼

# ç›¸ä¼¼åº¦ = 1ï¼šæ–¹å‘å®Œå…¨ç›¸åŒ
# ç›¸ä¼¼åº¦ = 0ï¼šå‚ç›´ï¼ˆä¸ç›¸å…³ï¼‰
# ç›¸ä¼¼åº¦ = -1ï¼šæ–¹å‘å®Œå…¨ç›¸å
```

**å‡ ä½•æ„ä¹‰**ï¼š

```
      v2
     /
    /
   / Î¸ = 0Â° (cosine = 1)
  /
 /_______ v1

åªçœ‹æ–¹å‘ï¼Œä¸çœ‹é•¿åº¦
```

---

#### **3. å†…ç§¯ï¼ˆIPï¼‰**

```python
# å†…ç§¯
inner_product = np.dot(v1, v2)
# = 1*2 + 2*4 + 3*6
# = 28

# åŒæ—¶è€ƒè™‘æ–¹å‘å’Œé•¿åº¦
```

---

### **Milvus æ”¯æŒçš„è·ç¦»åº¦é‡**

| è·ç¦»ç±»å‹           | é€‚ç”¨åœºæ™¯       | èŒƒå›´    | ç‰¹ç‚¹           |
| ------------------ | -------------- | ------- | -------------- |
| **L2ï¼ˆæ¬§æ°è·ç¦»ï¼‰** | é€šç”¨           | [0, âˆ)  | è·ç¦»è¶Šå°è¶Šç›¸ä¼¼ |
| **IPï¼ˆå†…ç§¯ï¼‰**     | å·²å½’ä¸€åŒ–çš„å‘é‡ | (-âˆ, âˆ) | å€¼è¶Šå¤§è¶Šç›¸ä¼¼   |
| **COSINEï¼ˆä½™å¼¦ï¼‰** | æ–‡æœ¬ã€æ¨èç³»ç»Ÿ | [-1, 1] | åªçœ‹æ–¹å‘       |

---

## ğŸ†š Milvus vs ä¼ ç»Ÿæ•°æ®åº“

### **å¯¹æ¯”è¡¨æ ¼**

| ç‰¹æ€§         | MySQL              | Elasticsearch      | Milvus             |
| ------------ | ------------------ | ------------------ | ------------------ |
| **æ•°æ®ç±»å‹** | ç»“æ„åŒ–æ•°æ®ï¼ˆè¡¨æ ¼ï¼‰ | æ–‡æœ¬ã€JSON         | å‘é‡ï¼ˆé«˜ç»´æ•°ç»„ï¼‰   |
| **æŸ¥è¯¢æ–¹å¼** | ç²¾ç¡®åŒ¹é…ã€èŒƒå›´æŸ¥è¯¢ | å…¨æ–‡æœç´¢ã€æ¨¡ç³ŠåŒ¹é… | ç›¸ä¼¼åº¦æœç´¢         |
| **ç´¢å¼•**     | Bæ ‘ã€å“ˆå¸Œ          | å€’æ’ç´¢å¼•           | HNSWã€IVFã€Annoy   |
| **æŸ¥è¯¢é€Ÿåº¦** | æ¯«ç§’çº§ï¼ˆç²¾ç¡®æŸ¥è¯¢ï¼‰ | æ¯«ç§’çº§ï¼ˆæ–‡æœ¬æœç´¢ï¼‰ | æ¯«ç§’çº§ï¼ˆå‘é‡æœç´¢ï¼‰ |
| **é€‚ç”¨åœºæ™¯** | äº‹åŠ¡å¤„ç†ã€æ•°æ®ç®¡ç† | æ—¥å¿—åˆ†æã€å…¨æ–‡æœç´¢ | AIåº”ç”¨ã€æ¨èç³»ç»Ÿ   |

---

### **å…¸å‹æŸ¥è¯¢å¯¹æ¯”**

#### **åœºæ™¯ï¼šæœç´¢ç›¸ä¼¼å•†å“**

```sql
-- MySQLï¼šåªèƒ½ç²¾ç¡®åŒ¹é…
SELECT * FROM products 
WHERE name LIKE '%iPhone%' 
  AND category = 'æ‰‹æœº';

-- é—®é¢˜ï¼š
-- âŒ æœä¸åˆ° "è‹¹æœæ‰‹æœº"ï¼ˆè™½ç„¶æ„æ€ä¸€æ ·ï¼‰
-- âŒ æœä¸åˆ° "iPhone16"ï¼ˆå°‘äº†ç©ºæ ¼ï¼‰
```

```python
# Elasticsearchï¼šå…³é”®è¯+è¯­ä¹‰
GET /products/_search
{
  "query": {
    "match": {
      "name": "iPhone"
    }
  }
}

# ä¼˜ç‚¹ï¼š
# âœ… å¯ä»¥åˆ†è¯ï¼Œæœåˆ° "iPhone16"
# âœ… æ”¯æŒæ¨¡ç³ŠåŒ¹é…

# é—®é¢˜ï¼š
# âŒ æœä¸åˆ° "è‹¹æœé«˜ç«¯æ‰‹æœº"ï¼ˆæ²¡æœ‰iPhoneè¿™ä¸ªè¯ï¼‰
# âŒ æ— æ³•ç†è§£è¯­ä¹‰ç›¸ä¼¼æ€§
```

```python
# Milvusï¼šçœŸæ­£çš„è¯­ä¹‰æœç´¢
query_text = "iPhoneé«˜ç«¯æ‰‹æœº"
query_vector = embedding_model.encode(query_text)

results = milvus.search(
    collection_name="products",
    data=[query_vector],
    limit=10
)

# ä¼˜ç‚¹ï¼š
# âœ… èƒ½æœåˆ° "iPhone 16 Pro"ï¼ˆè¯­ä¹‰ç›¸ä¼¼ï¼‰
# âœ… èƒ½æœåˆ° "åä¸º Mate 60 Pro"ï¼ˆéƒ½æ˜¯é«˜ç«¯æ‰‹æœºï¼‰
# âœ… èƒ½æœåˆ° "ä¸‰æ˜Ÿ S24 Ultra"ï¼ˆåŒç±»äº§å“ï¼‰
# âœ… çœŸæ­£ç†è§£"å«ä¹‰"ï¼
```

---

## ğŸ’» å®æˆ˜ï¼šä»é›¶æ­å»º

### **ç¯å¢ƒå‡†å¤‡**

#### **æ–¹å¼1ï¼šDockerï¼ˆæ¨èï¼‰**

```bash
# ä¸‹è½½ Milvus é•œåƒ
docker pull milvusdb/milvus:latest

# ä¸‹è½½é…ç½®æ–‡ä»¶
wget https://github.com/milvus-io/milvus/releases/download/v2.3.0/milvus-standalone-docker-compose.yml -O docker-compose.yml

# å¯åŠ¨ Milvus
docker-compose up -d

# æ£€æŸ¥çŠ¶æ€
docker-compose ps

# è¾“å‡ºï¼š
# NAME                COMMAND                  SERVICE             STATUS
# milvus-standalone   "/tini -- milvus ruâ€¦"   standalone          Up (healthy)
# milvus-etcd         "etcd -advertise-clâ€¦"   etcd                Up (healthy)
# milvus-minio        "/usr/bin/docker-enâ€¦"   minio               Up (healthy)
```

**è®¿é—®**ï¼š
- Milvusï¼š`localhost:19530`
- Minioï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰ï¼š`localhost:9000`
- Attuï¼ˆå¯è§†åŒ–ç•Œé¢ï¼‰ï¼š`localhost:3000`

---

#### **æ–¹å¼2ï¼šMilvus Liteï¼ˆæœ€ç®€å•ï¼‰**

```bash
# å®‰è£…
pip install milvus

# Python ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ï¼ˆæ— éœ€å¯åŠ¨æœåŠ¡ï¼‰
from milvus import default_server

default_server.start()  # è‡ªåŠ¨å¯åŠ¨æœ¬åœ°æœåŠ¡
```

---

### **Python å®¢æˆ·ç«¯å®‰è£…**

```bash
pip install pymilvus
```

---

### **å®Œæ•´ä»£ç ç¤ºä¾‹ï¼šæ„å»ºæ–‡æ¡£æœç´¢ç³»ç»Ÿ**

```python
from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
import numpy as np

# ============================================
# ç¬¬1æ­¥ï¼šè¿æ¥ Milvus
# ============================================
connections.connect(
    alias="default",
    host="localhost",
    port="19530"
)
print("âœ… å·²è¿æ¥åˆ° Milvus")

# ============================================
# ç¬¬2æ­¥ï¼šåˆ›å»ºé›†åˆï¼ˆCollectionï¼‰
# ============================================

# å®šä¹‰å­—æ®µ
fields = [
    FieldSchema(name="id", dtype=DataType.INT64, is_primary=True, auto_id=True),
    FieldSchema(name="embedding", dtype=DataType.FLOAT_VECTOR, dim=512),
    FieldSchema(name="text", dtype=DataType.VARCHAR, max_length=1000),
    FieldSchema(name="category", dtype=DataType.VARCHAR, max_length=50)
]

# åˆ›å»ºé›†åˆ
schema = CollectionSchema(fields, description="æ–‡æ¡£å‘é‡é›†åˆ")
collection = Collection(name="documents", schema=schema)
print("âœ… é›†åˆåˆ›å»ºæˆåŠŸ")

# ============================================
# ç¬¬3æ­¥ï¼šæ’å…¥æ•°æ®
# ============================================

# æ¨¡æ‹Ÿæ–‡æ¡£æ•°æ®
documents = [
    {
        "text": "çº¿æ€§å›å½’æ˜¯ä¸€ç§ç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œç”¨äºé¢„æµ‹è¿ç»­å€¼",
        "category": "æœºå™¨å­¦ä¹ "
    },
    {
        "text": "çŸ©é˜µä¹˜æ³•å¯ä»¥åŠ é€Ÿå‘é‡è®¡ç®—ï¼Œåœ¨æ·±åº¦å­¦ä¹ ä¸­éå¸¸é‡è¦",
        "category": "çº¿æ€§ä»£æ•°"
    },
    {
        "text": "æ¢¯åº¦ä¸‹é™æ˜¯ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œç”¨äºæœ€å°åŒ–æŸå¤±å‡½æ•°",
        "category": "ä¼˜åŒ–ç®—æ³•"
    },
    {
        "text": "ç¥ç»ç½‘ç»œç”±å¤šå±‚æ„ŸçŸ¥æœºç»„æˆï¼Œå¯ä»¥å­¦ä¹ å¤æ‚çš„éçº¿æ€§å…³ç³»",
        "category": "æ·±åº¦å­¦ä¹ "
    },
    {
        "text": "Transformeræ˜¯ä¸€ç§åŸºäºæ³¨æ„åŠ›æœºåˆ¶çš„ç¥ç»ç½‘ç»œæ¶æ„",
        "category": "æ·±åº¦å­¦ä¹ "
    }
]

# ç”Ÿæˆå‘é‡ï¼ˆè¿™é‡Œç”¨éšæœºå‘é‡æ¨¡æ‹Ÿï¼Œå®é™…åº”è¯¥ç”¨ Embedding æ¨¡å‹ï¼‰
def generate_embedding(text):
    # å®é™…é¡¹ç›®ä¸­åº”è¯¥ç”¨ï¼š
    # from sentence_transformers import SentenceTransformer
    # model = SentenceTransformer('BAAI/bge-large-zh')
    # return model.encode(text)
    return np.random.rand(512).tolist()

# å‡†å¤‡æ’å…¥æ•°æ®
texts = [doc["text"] for doc in documents]
embeddings = [generate_embedding(text) for text in texts]
categories = [doc["category"] for doc in documents]

# æ’å…¥
insert_result = collection.insert([
    embeddings,
    texts,
    categories
])

print(f"âœ… æ’å…¥äº† {len(texts)} æ¡æ•°æ®")
print(f"   ç”Ÿæˆçš„ ID: {insert_result.primary_keys}")

# ============================================
# ç¬¬4æ­¥ï¼šåˆ›å»ºç´¢å¼•
# ============================================

index_params = {
    "index_type": "HNSW",
    "metric_type": "L2",
    "params": {"M": 16, "efConstruction": 200}
}

collection.create_index(
    field_name="embedding",
    index_params=index_params
)

print("âœ… ç´¢å¼•åˆ›å»ºæˆåŠŸ")

# ============================================
# ç¬¬5æ­¥ï¼šåŠ è½½é›†åˆåˆ°å†…å­˜
# ============================================

collection.load()
print("âœ… é›†åˆå·²åŠ è½½åˆ°å†…å­˜")

# ============================================
# ç¬¬6æ­¥ï¼šæœç´¢
# ============================================

# ç”¨æˆ·æŸ¥è¯¢
query_text = "ä»€ä¹ˆæ˜¯æ·±åº¦å­¦ä¹ ï¼Ÿ"
query_vector = generate_embedding(query_text)

# æœç´¢å‚æ•°
search_params = {
    "metric_type": "L2",
    "params": {"ef": 64}
}

# æ‰§è¡Œæœç´¢
results = collection.search(
    data=[query_vector],
    anns_field="embedding",
    param=search_params,
    limit=3,  # è¿”å›æœ€ç›¸ä¼¼çš„3ä¸ª
    output_fields=["text", "category"]  # è¿”å›è¿™äº›å­—æ®µ
)

# ============================================
# ç¬¬7æ­¥ï¼šå±•ç¤ºç»“æœ
# ============================================

print(f"\nğŸ” æŸ¥è¯¢ï¼š{query_text}")
print("=" * 80)

for i, hits in enumerate(results):
    print(f"\næœç´¢ç»“æœ:")
    for j, hit in enumerate(hits):
        print(f"\n  æ’å {j+1}:")
        print(f"  ç›¸ä¼¼åº¦: {1 / (1 + hit.distance):.4f}")  # è½¬æ¢ä¸º0-1çš„åˆ†æ•°
        print(f"  æ–‡æœ¬: {hit.entity.get('text')}")
        print(f"  åˆ†ç±»: {hit.entity.get('category')}")
        print(f"  è·ç¦»: {hit.distance:.4f}")

# ============================================
# ç¬¬8æ­¥ï¼šæ¡ä»¶è¿‡æ»¤æœç´¢
# ============================================

print("\n\nğŸ¯ å¸¦è¿‡æ»¤æ¡ä»¶çš„æœç´¢")
print("=" * 80)

# åªæœç´¢"æ·±åº¦å­¦ä¹ "ç±»åˆ«
results_filtered = collection.search(
    data=[query_vector],
    anns_field="embedding",
    param=search_params,
    limit=3,
    expr='category == "æ·±åº¦å­¦ä¹ "',  # è¿‡æ»¤æ¡ä»¶
    output_fields=["text", "category"]
)

for i, hits in enumerate(results_filtered):
    print(f"\næœç´¢ç»“æœï¼ˆåªçœ‹æ·±åº¦å­¦ä¹ ç±»åˆ«ï¼‰:")
    for j, hit in enumerate(hits):
        print(f"\n  æ’å {j+1}:")
        print(f"  æ–‡æœ¬: {hit.entity.get('text')}")
        print(f"  åˆ†ç±»: {hit.entity.get('category')}")

# ============================================
# ç¬¬9æ­¥ï¼šç»Ÿè®¡ä¿¡æ¯
# ============================================

print(f"\nğŸ“Š é›†åˆç»Ÿè®¡ä¿¡æ¯:")
print(f"  é›†åˆåç§°: {collection.name}")
print(f"  æ€»å®ä½“æ•°: {collection.num_entities}")

# ============================================
# æ¸…ç†ï¼ˆå¯é€‰ï¼‰
# ============================================

# collection.release()  # ä»å†…å­˜å¸è½½
# collection.drop()     # åˆ é™¤é›†åˆ
```

---

### **å®é™…ä½¿ç”¨ BGE Embedding æ¨¡å‹**

```python
from sentence_transformers import SentenceTransformer

# 1. åŠ è½½ BGE ä¸­æ–‡æ¨¡å‹
model = SentenceTransformer('BAAI/bge-large-zh-v1.5')

# 2. ç”Ÿæˆå‘é‡
def generate_embedding(text):
    return model.encode(text).tolist()

# 3. æ–‡æ¡£å‘é‡åŒ–
texts = [
    "çº¿æ€§å›å½’æ˜¯ä¸€ç§ç›‘ç£å­¦ä¹ ç®—æ³•",
    "çŸ©é˜µè¿ç®—åœ¨æ·±åº¦å­¦ä¹ ä¸­å¾ˆé‡è¦",
    "æ¢¯åº¦ä¸‹é™ç”¨äºä¼˜åŒ–æ¨¡å‹"
]

embeddings = [generate_embedding(text) for text in texts]

# 4. æ’å…¥ Milvus
collection.insert([
    embeddings,
    texts
])

# 5. æŸ¥è¯¢
query = "ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ç®—æ³•ï¼Ÿ"
query_vector = generate_embedding(query)

results = collection.search(
    data=[query_vector],
    anns_field="embedding",
    param={"metric_type": "COSINE", "params": {"ef": 64}},
    limit=5
)
```

---

## ğŸ”¬ è¿›é˜¶ï¼šç´¢å¼•ç®—æ³•è¯¦è§£

### **ä¸ºä»€ä¹ˆéœ€è¦ç´¢å¼•ï¼Ÿ**

```
åœºæ™¯ï¼š100ä¸‡ä¸ªå‘é‡ï¼Œæ¯ä¸ª512ç»´

æš´åŠ›æœç´¢ï¼ˆBrute Forceï¼‰ï¼š
â”œâ”€ æŠŠæŸ¥è¯¢å‘é‡å’Œæ¯ä¸ªå‘é‡éƒ½æ¯”è¾ƒ
â”œâ”€ è®¡ç®—é‡ï¼š100ä¸‡ Ã— 512ç»´ Ã— è·ç¦»è®¡ç®—
â”œâ”€ æ—¶é—´ï¼šçº¦ 10 ç§’
â””â”€ âŒ å¤ªæ…¢ï¼

ä½¿ç”¨ç´¢å¼•ï¼š
â”œâ”€ åªæ¯”è¾ƒä¸€å°éƒ¨åˆ†å€™é€‰å‘é‡ï¼ˆæ¯”å¦‚1000ä¸ªï¼‰
â”œâ”€ è®¡ç®—é‡ï¼š1000 Ã— 512ç»´ Ã— è·ç¦»è®¡ç®—
â”œâ”€ æ—¶é—´ï¼šçº¦ 10 æ¯«ç§’
â””â”€ âœ… å¿«1000å€ï¼
```

---

### **Milvus æ”¯æŒçš„ç´¢å¼•ç±»å‹**

#### **1. FLATï¼ˆå¹³å¦ç´¢å¼•ï¼‰**

**åŸç†**ï¼šæš´åŠ›æœç´¢ï¼Œæ²¡æœ‰ç´¢å¼•ç»“æ„

```
ä¼˜ç‚¹ï¼š
âœ… 100% å‡†ç¡®
âœ… é€‚åˆå°æ•°æ®é›†ï¼ˆ<1ä¸‡ï¼‰

ç¼ºç‚¹ï¼š
âŒ å¾ˆæ…¢ï¼ˆçº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼‰
âŒ ä¸é€‚åˆå¤§æ•°æ®é›†
```

**é€‚ç”¨åœºæ™¯**ï¼š
- å¯¹å‡†ç¡®æ€§è¦æ±‚æé«˜
- æ•°æ®é‡å¾ˆå°
- ç”¨äºå¯¹æ¯”å…¶ä»–ç´¢å¼•çš„å‡†ç¡®æ€§

---

#### **2. IVF_FLATï¼ˆå€’æ’æ–‡ä»¶ç´¢å¼•ï¼‰**

**åŸç†**ï¼šèšç±» + å€’æ’ç´¢å¼•

```
æ„å»ºé˜¶æ®µï¼š
1. æŠŠ100ä¸‡ä¸ªå‘é‡èšç±»æˆ 1000 ä¸ªç°‡
   â”œâ”€ ç°‡1ï¼š[v1, v5, v9, ...]   (1000ä¸ªå‘é‡)
   â”œâ”€ ç°‡2ï¼š[v2, v7, v11, ...]  (1000ä¸ªå‘é‡)
   â”œâ”€ ...
   â””â”€ ç°‡1000ï¼š[v3, v8, ...]    (1000ä¸ªå‘é‡)

2. è®°å½•æ¯ä¸ªç°‡çš„ä¸­å¿ƒç‚¹

æœç´¢é˜¶æ®µï¼š
1. æ‰¾åˆ°ç¦»æŸ¥è¯¢å‘é‡æœ€è¿‘çš„ 10 ä¸ªç°‡
2. åªåœ¨è¿™ 10 ä¸ªç°‡ä¸­æœç´¢ï¼ˆ10,000ä¸ªå‘é‡ï¼‰
3. è¿”å›æœ€ç›¸ä¼¼çš„ç»“æœ

ä¼˜ç‚¹ï¼š
âœ… æ¯” FLAT å¿« 10-100å€
âœ… å‡†ç¡®ç‡ä»ç„¶å¾ˆé«˜ï¼ˆ95%+ï¼‰

ç¼ºç‚¹ï¼š
âŒ éœ€è¦é€‰æ‹©åˆé€‚çš„ç°‡æ•°é‡ï¼ˆnlistï¼‰
âŒ æ„å»ºç´¢å¼•éœ€è¦æ—¶é—´
```

**å‚æ•°è°ƒä¼˜**ï¼š

```python
index_params = {
    "index_type": "IVF_FLAT",
    "metric_type": "L2",
    "params": {
        "nlist": 1024  # ç°‡çš„æ•°é‡
    }
}

# nlist é€‰æ‹©å»ºè®®ï¼š
# - å°æ•°æ®é›†ï¼ˆ<10ä¸‡ï¼‰ï¼šnlist = 128
# - ä¸­ç­‰æ•°æ®é›†ï¼ˆ10ä¸‡-100ä¸‡ï¼‰ï¼šnlist = 1024
# - å¤§æ•°æ®é›†ï¼ˆ>100ä¸‡ï¼‰ï¼šnlist = 4096

search_params = {
    "metric_type": "L2",
    "params": {
        "nprobe": 10  # æœç´¢å¤šå°‘ä¸ªç°‡
    }
}

# nprobe è¶Šå¤§ï¼Œå‡†ç¡®ç‡è¶Šé«˜ï¼Œä½†é€Ÿåº¦è¶Šæ…¢
# nprobe = 1ï¼šæœ€å¿«ï¼Œå‡†ç¡®ç‡çº¦ 80%
# nprobe = 10ï¼šä¸­ç­‰ï¼Œå‡†ç¡®ç‡çº¦ 95%
# nprobe = 50ï¼šè¾ƒæ…¢ï¼Œå‡†ç¡®ç‡çº¦ 99%
```

---

#### **3. IVF_PQï¼ˆå€’æ’æ–‡ä»¶ + ä¹˜ç§¯é‡åŒ–ï¼‰**

**åŸç†**ï¼šIVF + å‘é‡å‹ç¼©

```
é—®é¢˜ï¼š512ç»´å‘é‡ Ã— 100ä¸‡æ¡ = å¤ªå å†…å­˜ï¼

è§£å†³æ–¹æ¡ˆï¼šä¹˜ç§¯é‡åŒ–ï¼ˆProduct Quantizationï¼‰

1. æŠŠ512ç»´å‘é‡åˆ‡æˆ 8 æ®µï¼Œæ¯æ®µ 64 ç»´
   [0.1, 0.2, ..., 0.9]  (512ç»´)
   â†“
   [seg1: 64ç»´] [seg2: 64ç»´] ... [seg8: 64ç»´]

2. å¯¹æ¯æ®µå»ºç«‹"ç æœ¬"ï¼ˆèšç±»ï¼‰
   seg1 çš„æ‰€æœ‰å¯èƒ½å€¼ â†’ èšç±»æˆ 256 ä¸ªä»£è¡¨å€¼
   
3. ç”¨ç´¢å¼•ä»£æ›¿åŸå§‹å€¼
   [0.1, 0.2, ..., 0.9]  (512ç»´ Ã— 4å­—èŠ‚ = 2KB)
   â†“
   [3, 15, 89, 200, 45, 12, 78, 156]  (8ä¸ªå­—èŠ‚ = 8B)
   
å‹ç¼©æ¯”ï¼š2KB â†’ 8Bï¼Œå‹ç¼©äº† 256å€ï¼

ä¼˜ç‚¹ï¼š
âœ… å†…å­˜å ç”¨å¤§å¹…å‡å°‘ï¼ˆå‹ç¼©100-500å€ï¼‰
âœ… é€Ÿåº¦å¾ˆå¿«

ç¼ºç‚¹ï¼š
âŒ å‡†ç¡®ç‡ä¸‹é™ï¼ˆçº¦90-95%ï¼‰
âŒ æœ‰æŸå‹ç¼©
```

**å‚æ•°**ï¼š

```python
index_params = {
    "index_type": "IVF_PQ",
    "metric_type": "L2",
    "params": {
        "nlist": 1024,  # IVF ç°‡æ•°é‡
        "m": 8,         # åˆ†æ®µæ•°é‡ï¼ˆ512ç»´ â†’ 8æ®µï¼‰
        "nbits": 8      # æ¯æ®µç”¨å¤šå°‘ä½ç¼–ç ï¼ˆ8ä½ = 256ä¸ªä»£è¡¨å€¼ï¼‰
    }
}

# m çš„é€‰æ‹©ï¼š
# - dim % m == 0ï¼ˆ512 å¯ä»¥é€‰ 8, 16, 32ï¼‰
# - m è¶Šå¤§ï¼Œå‹ç¼©ç‡è¶Šé«˜ï¼Œä½†å‡†ç¡®ç‡ä¸‹é™
```

---

#### **4. HNSWï¼ˆå±‚æ¬¡å¯å¯¼èˆªå°ä¸–ç•Œå›¾ï¼‰â­**

**æœ€æ¨èï¼å¹³è¡¡äº†é€Ÿåº¦å’Œå‡†ç¡®ç‡ï¼**

**åŸç†**ï¼šå¤šå±‚å›¾ç»“æ„

```
æƒ³è±¡ä¸€ä¸ªåŸå¸‚åœ°å›¾ï¼š

ç¬¬0å±‚ï¼ˆæœ€åº•å±‚ï¼‰ï¼šæ‰€æœ‰çš„æˆ¿å­ï¼ˆ100ä¸‡ä¸ªç‚¹ï¼‰
â”œâ”€ æ¯ä¸ªæˆ¿å­è¿æ¥åˆ°æœ€è¿‘çš„ 16 ä¸ªé‚»å±…
â””â”€ ç²¾ç¡®æœç´¢

ç¬¬1å±‚ï¼šé«˜é€Ÿå…¬è·¯å‡ºå£ï¼ˆ10ä¸‡ä¸ªç‚¹ï¼‰
â”œâ”€ æ¯ä¸ªå‡ºå£è¿æ¥åˆ°æœ€è¿‘çš„ 16 ä¸ªå…¶ä»–å‡ºå£
â””â”€ å¿«é€Ÿè·³è½¬åˆ°ç›®æ ‡åŒºåŸŸ

ç¬¬2å±‚ï¼šçœé™…é«˜é€Ÿï¼ˆ1ä¸‡ä¸ªç‚¹ï¼‰
â””â”€ æ›´å¿«åœ°è·¨è¶Šé•¿è·ç¦»

ç¬¬3å±‚ï¼ˆæœ€é¡¶å±‚ï¼‰ï¼šå…¥å£ç‚¹ï¼ˆ1ä¸ªç‚¹ï¼‰
â””â”€ æœç´¢èµ·ç‚¹

æœç´¢è¿‡ç¨‹ï¼š
1. ä»é¡¶å±‚ï¼ˆç¬¬3å±‚ï¼‰å¼€å§‹
2. æ‰¾åˆ°æœ€è¿‘çš„é‚»å±…ï¼Œè·³è¿‡å»
3. ä¸‹é™åˆ°ç¬¬2å±‚ï¼Œç»§ç»­æ‰¾æœ€è¿‘çš„é‚»å±…
4. ä¸‹é™åˆ°ç¬¬1å±‚ï¼Œè¶Šæ¥è¶Šæ¥è¿‘ç›®æ ‡
5. ä¸‹é™åˆ°ç¬¬0å±‚ï¼Œæ‰¾åˆ°ç²¾ç¡®çš„æœ€è¿‘é‚»

æ—¶é—´å¤æ‚åº¦ï¼šO(log N)
```

**å¯è§†åŒ–**ï¼š

```
ç¬¬3å±‚:           â€¢                     (å…¥å£ç‚¹)
                 |
ç¬¬2å±‚:       â€¢â€”â€”â€¢â€”â€”â€¢â€”â€”â€¢                (ç²—ç•¥å¯¼èˆª)
             |  |  |  |
ç¬¬1å±‚:     â€¢-â€¢-â€¢-â€¢-â€¢-â€¢-â€¢-â€¢             (ä¸­ç­‰ç²¾åº¦)
           | | | | | | | |
ç¬¬0å±‚:   â€¢-â€¢-â€¢-â€¢-â€¢-â€¢-â€¢-â€¢-â€¢-â€¢-â€¢         (ç²¾ç¡®æœç´¢)

æŸ¥è¯¢ç‚¹: â˜…

æœç´¢è·¯å¾„:
  ç¬¬3å±‚: â€¢ â†’ (å”¯ä¸€ç‚¹)
         â†“
  ç¬¬2å±‚: â€¢ â†’ â€¢ â†’ â€¢ (æ‰¾åˆ°æœ€è¿‘çš„)
               â†“
  ç¬¬1å±‚: â€¢ â†’ â€¢ â†’ â€¢ â†’ â€¢ (è¶Šæ¥è¶Šè¿‘)
                   â†“
  ç¬¬0å±‚: â€¢ â†’ â€¢ â†’ â˜… (æ‰¾åˆ°æœ€è¿‘é‚»)
```

**å‚æ•°**ï¼š

```python
index_params = {
    "index_type": "HNSW",
    "metric_type": "L2",
    "params": {
        "M": 16,              # æ¯ä¸ªèŠ‚ç‚¹çš„è¿æ¥æ•°
        "efConstruction": 200  # æ„å»ºæ—¶çš„æœç´¢æ·±åº¦
    }
}

# M çš„é€‰æ‹©ï¼š
# - M = 4-8ï¼šå¿«ï¼Œä½†å‡†ç¡®ç‡è¾ƒä½
# - M = 16ï¼šå¹³è¡¡ï¼ˆæ¨èï¼‰
# - M = 32-64ï¼šæ…¢ï¼Œä½†å‡†ç¡®ç‡å¾ˆé«˜

search_params = {
    "metric_type": "L2",
    "params": {
        "ef": 64  # æœç´¢æ—¶çš„æ·±åº¦
    }
}

# ef çš„é€‰æ‹©ï¼š
# - ef = 16ï¼šå¾ˆå¿«ï¼Œå‡†ç¡®ç‡çº¦ 90%
# - ef = 64ï¼šå¹³è¡¡ï¼ˆæ¨èï¼‰
# - ef = 256ï¼šæ…¢ï¼Œå‡†ç¡®ç‡ 99%+
```

**ä¼˜ç‚¹**ï¼š
- âœ… é€Ÿåº¦æå¿«ï¼ˆæ¯«ç§’çº§ï¼‰
- âœ… å‡†ç¡®ç‡é«˜ï¼ˆ95-99%ï¼‰
- âœ… æ— éœ€è®­ç»ƒï¼ˆå¢é‡æ›´æ–°å‹å¥½ï¼‰

**ç¼ºç‚¹**ï¼š
- âŒ å†…å­˜å ç”¨è¾ƒé«˜
- âŒ æ„å»ºç´¢å¼•ç¨æ…¢

---

### **ç´¢å¼•å¯¹æ¯”è¡¨**

| ç´¢å¼•ç±»å‹     | é€Ÿåº¦  | å‡†ç¡®ç‡ | å†…å­˜å ç”¨ | é€‚ç”¨åœºæ™¯   |
| ------------ | ----- | ------ | -------- | ---------- |
| **FLAT**     | â­     | â­â­â­â­â­  | â­â­â­â­â­    | å°æ•°æ®é›†   |
| **IVF_FLAT** | â­â­â­   | â­â­â­â­   | â­â­â­â­     | ä¸­ç­‰æ•°æ®é›† |
| **IVF_PQ**   | â­â­â­â­  | â­â­â­    | â­â­       | å†…å­˜å—é™   |
| **HNSW**     | â­â­â­â­â­ | â­â­â­â­â­  | â­â­â­      | æ¨èï¼é€šç”¨ |

---

## ğŸš€ æ€§èƒ½ä¼˜åŒ–æŠ€å·§

### **1. é€‰æ‹©åˆé€‚çš„ç´¢å¼•**

```python
# åœºæ™¯1ï¼šå°æ•°æ®é›†ï¼ˆ<1ä¸‡ï¼‰ï¼Œè¦æ±‚100%å‡†ç¡®
index_params = {"index_type": "FLAT"}

# åœºæ™¯2ï¼šä¸­ç­‰æ•°æ®é›†ï¼ˆ1ä¸‡-100ä¸‡ï¼‰ï¼Œå¹³è¡¡é€Ÿåº¦å’Œå‡†ç¡®ç‡
index_params = {
    "index_type": "IVF_FLAT",
    "params": {"nlist": 1024}
}

# åœºæ™¯3ï¼šå¤§æ•°æ®é›†ï¼ˆ>100ä¸‡ï¼‰ï¼Œå†…å­˜å—é™
index_params = {
    "index_type": "IVF_PQ",
    "params": {"nlist": 4096, "m": 8, "nbits": 8}
}

# åœºæ™¯4ï¼šå¤§æ•°æ®é›†ï¼Œè¿½æ±‚æœ€ä½³æ€§èƒ½ï¼ˆæ¨èï¼‰
index_params = {
    "index_type": "HNSW",
    "params": {"M": 16, "efConstruction": 200}
}
```

---

### **2. ä½¿ç”¨åˆ†åŒº**

```python
# åˆ›å»ºåˆ†åŒº
collection.create_partition("2024å¹´")
collection.create_partition("2023å¹´")

# æ’å…¥æ•°æ®æ—¶æŒ‡å®šåˆ†åŒº
collection.insert(entities, partition_name="2024å¹´")

# æœç´¢æ—¶åªæœç´¢ç›¸å…³åˆ†åŒº
results = collection.search(
    data=[query_vector],
    partition_names=["2024å¹´"],  # åªæœç´¢ä»Šå¹´çš„æ•°æ®
    anns_field="embedding",
    limit=10
)

# æ€§èƒ½æå‡ï¼š
# - å‡å°‘æœç´¢ç©ºé—´
# - æé«˜ç¼“å­˜å‘½ä¸­ç‡
```

---

### **3. æ‰¹é‡æ“ä½œ**

```python
# âŒ ä¸å¥½ï¼šä¸€æ¡ä¸€æ¡æ’å…¥
for entity in entities:
    collection.insert([entity])  # 1000æ¬¡ç½‘ç»œè¯·æ±‚

# âœ… å¥½ï¼šæ‰¹é‡æ’å…¥
collection.insert(entities)  # 1æ¬¡ç½‘ç»œè¯·æ±‚

# æ€§èƒ½æå‡ï¼šå¿«10-100å€ï¼
```

---

### **4. ä½¿ç”¨æ ‡é‡è¿‡æ»¤**

```python
# å…ˆç”¨æ ‡é‡å­—æ®µè¿‡æ»¤ï¼Œå†åšå‘é‡æœç´¢
results = collection.search(
    data=[query_vector],
    anns_field="embedding",
    expr='price < 5000 and category == "æ‰‹æœº"',  # å…ˆè¿‡æ»¤
    limit=10
)

# å‡å°‘å‘é‡æ¯”è¾ƒçš„æ•°é‡
```

---

### **5. è°ƒæ•´æœç´¢å‚æ•°**

```python
# æ ¹æ®éœ€æ±‚è°ƒæ•´ nprobe / ef

# éœ€è¦é€Ÿåº¦ï¼š
search_params = {"params": {"ef": 16}}  # å¿«ï¼Œå‡†ç¡®ç‡ 90%

# éœ€è¦å‡†ç¡®ç‡ï¼š
search_params = {"params": {"ef": 256}}  # æ…¢ï¼Œå‡†ç¡®ç‡ 99%

# å¹³è¡¡ï¼š
search_params = {"params": {"ef": 64}}  # æ¨è
```

---

### **6. å‘é‡å½’ä¸€åŒ–**

```python
# å¦‚æœä½¿ç”¨ IPï¼ˆå†…ç§¯ï¼‰è·ç¦»
# åº”è¯¥å…ˆå½’ä¸€åŒ–å‘é‡

import numpy as np

def normalize(vector):
    norm = np.linalg.norm(vector)
    return vector / norm if norm > 0 else vector

# å½’ä¸€åŒ–åï¼ŒIP è·ç¦»ç­‰ä»·äºä½™å¼¦ç›¸ä¼¼åº¦
# ä¸”è®¡ç®—æ›´å¿«ï¼
```

---

## ğŸ¯ å®é™…åº”ç”¨æ¡ˆä¾‹

### **æ¡ˆä¾‹1ï¼šæ™ºèƒ½æ–‡æ¡£æœç´¢**

```python
"""
åœºæ™¯ï¼šå…¬å¸æœ‰10ä¸‡ä»½æ–‡æ¡£ï¼Œå‘˜å·¥éœ€è¦å¿«é€Ÿæ‰¾åˆ°ç›¸å…³èµ„æ–™
"""

# 1. æ–‡æ¡£å¤„ç†
from langchain.text_splitter import RecursiveCharacterTextSplitter

splitter = RecursiveCharacterTextSplitter(
    chunk_size=500,
    chunk_overlap=50
)

# åˆ‡åˆ†æ–‡æ¡£
chunks = splitter.split_documents(documents)

# 2. å‘é‡åŒ–å¹¶å­˜å…¥ Milvus
embeddings = [embedding_model.encode(chunk.page_content) for chunk in chunks]
metadata = [{"source": chunk.metadata["source"], "page": chunk.metadata["page"]} 
            for chunk in chunks]

collection.insert([embeddings, texts, metadata])

# 3. æœç´¢
query = "2023å¹´ç¬¬å››å­£åº¦é”€å”®æŠ¥å‘Š"
query_vector = embedding_model.encode(query)

results = collection.search(
    data=[query_vector],
    anns_field="embedding",
    limit=5,
    output_fields=["text", "source", "page"]
)

# ç»“æœï¼š
# 1. "2023 Q4 Sales Report.pdf" - ç¬¬3é¡µ
# 2. "Annual Report 2023.docx" - ç¬¬15é¡µ
# ...
```

---

### **æ¡ˆä¾‹2ï¼šç”µå•†å•†å“æ¨è**

```python
"""
åœºæ™¯ï¼šç”¨æˆ·æµè§ˆäº†ä¸€ä¸ªå•†å“ï¼Œæ¨èç›¸ä¼¼å•†å“
"""

# 1. å•†å“å‘é‡åŒ–
# ç»“åˆï¼šæ ‡é¢˜ + æè¿° + æ ‡ç­¾
product_text = f"{title} {description} {' '.join(tags)}"
product_vector = embedding_model.encode(product_text)

# 2. æœç´¢ç›¸ä¼¼å•†å“
results = collection.search(
    data=[product_vector],
    anns_field="embedding",
    expr='category == "æ‰‹æœº" and price < 8000',  # åŒç±»å•†å“ï¼Œä»·æ ¼èŒƒå›´
    limit=10,
    output_fields=["title", "price", "image_url"]
)

# 3. è¿”å›æ¨èåˆ—è¡¨
recommendations = [
    {
        "title": hit.entity.get("title"),
        "price": hit.entity.get("price"),
        "similarity": 1 / (1 + hit.distance)
    }
    for hit in results[0]
]
```

---

### **æ¡ˆä¾‹3ï¼šå›¾ç‰‡ç›¸ä¼¼æœç´¢**

```python
"""
åœºæ™¯ï¼šä»¥å›¾æœå›¾ï¼Œæ‰¾ç›¸ä¼¼å•†å“
"""

from PIL import Image
import torch
from torchvision import transforms, models

# 1. åŠ è½½å›¾ç‰‡ç‰¹å¾æå–æ¨¡å‹
model = models.resnet50(pretrained=True)
model.eval()

# 2. å›¾ç‰‡è½¬å‘é‡
def image_to_vector(image_path):
    img = Image.open(image_path)
    
    # é¢„å¤„ç†
    preprocess = transforms.Compose([
        transforms.Resize(256),
        transforms.CenterCrop(224),
        transforms.ToTensor(),
        transforms.Normalize(mean=[0.485, 0.456, 0.406], 
                           std=[0.229, 0.224, 0.225])
    ])
    
    img_tensor = preprocess(img).unsqueeze(0)
    
    # æå–ç‰¹å¾
    with torch.no_grad():
        features = model(img_tensor)
    
    return features.squeeze().numpy()

# 3. ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡
query_vector = image_to_vector("user_upload.jpg")

# 4. æœç´¢ç›¸ä¼¼å›¾ç‰‡
results = collection.search(
    data=[query_vector],
    anns_field="image_embedding",
    limit=20,
    output_fields=["product_id", "image_url", "price"]
)
```

---

### **æ¡ˆä¾‹4ï¼šé—®ç­”ç³»ç»Ÿï¼ˆRAGï¼‰**

```python
"""
åœºæ™¯ï¼šåŸºäºçŸ¥è¯†åº“çš„æ™ºèƒ½é—®ç­”
"""

from langchain.chains import RetrievalQA
from langchain.llms import OpenAI

# 1. Milvus ä½œä¸ºå‘é‡å­˜å‚¨
from langchain.vectorstores import Milvus

vectorstore = Milvus(
    embedding_function=embedding_model,
    collection_name="knowledge_base",
    connection_args={"host": "localhost", "port": "19530"}
)

# 2. åˆ›å»º RAG é“¾
qa_chain = RetrievalQA.from_chain_type(
    llm=OpenAI(temperature=0),
    retriever=vectorstore.as_retriever(search_kwargs={"k": 5}),
    return_source_documents=True
)

# 3. ç”¨æˆ·æé—®
question = "ä»€ä¹ˆæ˜¯æ¢¯åº¦ä¸‹é™ï¼Ÿ"
result = qa_chain({"query": question})

# 4. è¿”å›ç­”æ¡ˆ + æ¥æº
print(f"ç­”æ¡ˆ: {result['result']}")
print(f"\nå‚è€ƒèµ„æ–™:")
for doc in result['source_documents']:
    print(f"- {doc.metadata['source']}")
```

---

## ğŸ“Š æ€§èƒ½åŸºå‡†æµ‹è¯•

### **æµ‹è¯•ç¯å¢ƒ**

```
CPU: Intel Xeon E5-2680 v4
RAM: 64GB
GPU: NVIDIA Tesla V100
æ•°æ®é›†: 1,000,000 ä¸ª 512ç»´å‘é‡
```

### **æµ‹è¯•ç»“æœ**

| ç´¢å¼•ç±»å‹     | æ„å»ºæ—¶é—´ | QPS (queries/sec) | Recall@10 | å†…å­˜å ç”¨ |
| ------------ | -------- | ----------------- | --------- | -------- |
| **FLAT**     | 0s       | 50                | 100%      | 2GB      |
| **IVF_FLAT** | 30s      | 2,000             | 98%       | 2GB      |
| **IVF_PQ**   | 45s      | 5,000             | 92%       | 200MB    |
| **HNSW**     | 120s     | 10,000            | 99%       | 3GB      |

**ç»“è®º**ï¼š
- **HNSW** æ˜¯æœ€ä½³é€‰æ‹©ï¼ˆé€Ÿåº¦æœ€å¿«ï¼Œå‡†ç¡®ç‡é«˜ï¼‰
- **IVF_PQ** é€‚åˆå†…å­˜å—é™åœºæ™¯
- **IVF_FLAT** æ˜¯æ€§èƒ½å’Œå†…å­˜çš„å¹³è¡¡

---

## ğŸ“ å­¦ä¹ èµ„æº

### **å®˜æ–¹æ–‡æ¡£**
- ğŸ“˜ [Milvus å®˜æ–¹æ–‡æ¡£](https://milvus.io/docs)
- ğŸ“˜ [PyMilvus API](https://milvus.io/api-reference/pymilvus/v2.3.x/About.md)
- ğŸ“˜ [Attu å¯è§†åŒ–å·¥å…·](https://github.com/zilliztech/attu)

### **æ•™ç¨‹**
- ğŸ¥ [Milvus å…¥é—¨è§†é¢‘](https://www.youtube.com/c/MilvusVectorDatabase)
- ğŸ“– [å‘é‡æ•°æ®åº“å…¥é—¨](https://zilliz.com/learn/what-is-vector-database)

### **ç¤¾åŒº**
- ğŸ’¬ [Milvus Discord](https://discord.gg/8uyFbECzPX)
- ğŸ’¬ [GitHub Discussions](https://github.com/milvus-io/milvus/discussions)

---

## ğŸ¯ æ€»ç»“

### **Milvus çš„æ ¸å¿ƒä»·å€¼**

```
ä¼ ç»Ÿæ•°æ®åº“ï¼š
â”œâ”€ å­˜å‚¨å’ŒæŸ¥è¯¢ç»“æ„åŒ–æ•°æ®
â””â”€ ç²¾ç¡®åŒ¹é…

Milvusï¼š
â”œâ”€ å­˜å‚¨å’Œæœç´¢å‘é‡æ•°æ®
â”œâ”€ ç›¸ä¼¼åº¦æœç´¢
â””â”€ æ”¯æŒ AI åº”ç”¨
```

### **ä½•æ—¶ä½¿ç”¨ Milvusï¼Ÿ**

âœ… **åº”è¯¥ç”¨**ï¼š
- è¯­ä¹‰æœç´¢ï¼ˆæ–‡æ¡£ã€å•†å“ï¼‰
- æ¨èç³»ç»Ÿ
- å›¾ç‰‡/è§†é¢‘ç›¸ä¼¼æœç´¢
- RAG ç³»ç»Ÿ
- å¼‚å¸¸æ£€æµ‹
- äººè„¸è¯†åˆ«

âŒ **ä¸é€‚åˆ**ï¼š
- ä¼ ç»Ÿçš„äº‹åŠ¡å¤„ç†ï¼ˆç”¨ MySQLï¼‰
- ç®€å•çš„é”®å€¼å­˜å‚¨ï¼ˆç”¨ Redisï¼‰
- å…¨æ–‡æœç´¢ï¼ˆç”¨ Elasticsearchï¼‰

### **å’Œä½ çš„å­¦ä¹ çš„å…³ç³»**

```
ä½ å­¦çš„æ•°å­¦          Milvus ä¸­çš„åº”ç”¨
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å‘é‡               æ ¸å¿ƒæ•°æ®ç±»å‹
çŸ©é˜µè¿ç®—           å‘é‡å­˜å‚¨å’Œè®¡ç®—
è·ç¦»è®¡ç®—           ç›¸ä¼¼åº¦æœç´¢
èšç±»ç®—æ³•           IVF ç´¢å¼•
å›¾è®º               HNSW ç´¢å¼•
```

---

## ğŸ’ª å®è·µå»ºè®®

1. **ä»ç®€å•å¼€å§‹**ï¼š
   - ç”¨ Milvus Lite åœ¨æœ¬åœ°å¿«é€Ÿä½“éªŒ
   - è·‘é€šåŸºç¡€çš„æ’å…¥å’Œæœç´¢

2. **ç†è§£ç´¢å¼•**ï¼š
   - æµ‹è¯•ä¸åŒç´¢å¼•çš„æ€§èƒ½å·®å¼‚
   - ç†è§£å‚æ•°å¯¹ç»“æœçš„å½±å“

3. **ç»“åˆå®é™…**ï¼š
   - ç”¨ä½ çš„ç®—æ³•ç¬”è®°æ„å»ºæœç´¢ç³»ç»Ÿ
   - ä½“éªŒ RAG çš„å¼ºå¤§

4. **æ·±å…¥åŸç†**ï¼š
   - å­¦ä¹  HNSW ç®—æ³•åŸç†
   - ç†è§£å‘é‡æ£€ç´¢çš„ä¼˜åŒ–æŠ€å·§

---

**ç°åœ¨ä½ å®Œå…¨ç†è§£ Milvus äº†ï¼** ğŸ‰

å®ƒæ˜¯ï¼š
- âœ… ä¸“é—¨å­˜å‚¨å‘é‡çš„æ•°æ®åº“
- âœ… æ”¯æŒè¶…å¿«çš„ç›¸ä¼¼åº¦æœç´¢
- âœ… AI åº”ç”¨çš„åŸºç¡€è®¾æ–½
- âœ… ä½ æœªæ¥ä¼šç»å¸¸ç”¨åˆ°çš„å·¥å…·

**æœ‰ä»»ä½•é—®é¢˜éšæ—¶é—®ï¼** ğŸ˜Š
